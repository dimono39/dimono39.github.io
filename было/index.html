<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üìä –°–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏–∑–∞ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤</title>
    <script>
		// –ó–∞—â–∏—Ç–∞ –æ—Ç –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–æ–≤ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π
		if (typeof chrome !== 'undefined' && chrome.runtime && !chrome.runtime.id) {
			// –≠—Ç–æ –Ω–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ, –∞ –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã
			console.warn('–û–±–Ω–∞—Ä—É–∂–µ–Ω–æ –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ Chrome API –±–µ–∑ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è');
			// –°–æ–∑–¥–∞–µ–º –∑–∞–≥–ª—É—à–∫—É –¥–ª—è problem API
			chrome.runtime.sendMessage = undefined;
		}
	</script>
    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫ -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@2.2.1/dist/chartjs-plugin-annotation.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    
    <style>
		/* –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è —Å–∏—Å—Ç–µ–º—ã –∞–Ω–∞–ª–∏–∑–∞ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ */

		/* ==================== –û–°–ù–û–í–ù–´–ï –°–¢–ò–õ–ò ==================== */
		* {
			box-sizing: border-box;
			margin: 0;
			padding: 0;
		}

		body {
			font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
			line-height: 1.6;
			color: #333;
			background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
			min-height: 100vh;
			padding: 20px;
		}

		.container {
			max-width: 1600px;
			margin: 0 auto;
			background: white;
			border-radius: 15px;
			box-shadow: 0 20px 40px rgba(0,0,0,0.1);
			overflow: hidden;
		}

		/* ==================== –ó–ê–ì–û–õ–û–í–û–ö ==================== */
		.header {
			background: linear-gradient(135deg, #2c3e50, #3498db);
			color: white;
			padding: 30px;
			text-align: center;
		}

		.header h1 {
			font-size: 2.2em;
			margin-bottom: 10px;
			font-weight: 300;
		}

		/* ==================== –í–ö–õ–ê–î–ö–ò ==================== */
		.tabs {
			background: #34495e;
			padding: 0;
			display: flex;
			flex-wrap: wrap;
		}

		.tab-btn {
			background: none;
			color: white;
			border: none;
			padding: 15px 20px;
			cursor: pointer;
			transition: all 0.3s;
			font-size: 13px;
			flex: 1;
			min-width: 140px;
		}

		.tab-btn:hover {
			background: rgba(255,255,255,0.1);
		}

		.tab-btn.active {
			background: #3498db;
			box-shadow: inset 0 -3px 0 #2980b9;
		}

		.tab-content {
			display: none;
			padding: 25px;
			min-height: 600px;
		}

		.tab-content.active {
			display: block;
		}

		/* ==================== –§–û–†–ú–´ ==================== */
		.form-group {
			margin-bottom: 15px;
		}

		label {
			display: block;
			margin-bottom: 5px;
			font-weight: 600;
			color: #2c3e50;
			font-size: 14px;
		}

		input, select, textarea {
			width: 100%;
			padding: 10px;
			border: 2px solid #bdc3c7;
			border-radius: 6px;
			font-size: 14px;
			transition: border-color 0.3s;
		}

		input:focus, select:focus, textarea:focus {
			border-color: #3498db;
			outline: none;
		}

		/* ==================== –ö–ù–û–ü–ö–ò ==================== */
		.btn {
			background: #3498db;
			color: white;
			border: none;
			padding: 10px 20px;
			border-radius: 6px;
			cursor: pointer;
			font-size: 14px;
			transition: all 0.3s;
			margin: 3px;
		}

		.btn:hover {
			background: #2980b9;
			transform: translateY(-1px);
		}

		.btn-success {
			background: #27ae60;
		}

		.btn-success:hover {
			background: #219a52;
		}

		.btn-warning {
			background: #f39c12;
		}

		.btn-warning:hover {
			background: #e67e22;
		}

		.btn-danger {
			background: #e74c3c;
		}

		.btn-danger:hover {
			background: #c0392b;
		}

		.btn-print {
			background: #9b59b6;
		}

		.btn-print:hover {
			background: #8e44ad;
		}

		.btn-sm {
			padding: 5px 10px !important;
			font-size: 12px !important;
		}

		/* ==================== KPI –ö–ê–†–¢–û–ß–ö–ò ==================== */
		.kpi-grid {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
			gap: 15px;
			margin: 15px 0;
		}

		.kpi-card {
			background: white;
			padding: 15px;
			border-radius: 8px;
			text-align: center;
			box-shadow: 0 3px 10px rgba(0,0,0,0.1);
			border-left: 4px solid #3498db;
		}

		.kpi-card.success { border-left-color: #27ae60 !important; }
		.kpi-card.warning { border-left-color: #f39c12 !important; }
		.kpi-card.danger { border-left-color: #e74c3c !important; }

		.kpi-card.success .kpi-value { color: #27ae60; }
		.kpi-card.warning .kpi-value { color: #f39c12; }
		.kpi-card.danger .kpi-value { color: #e74c3c; }

		.kpi-value {
			font-size: 1.6em;
			font-weight: bold;
			color: #2c3e50;
			margin: 8px 0;
		}

		.kpi-label {
			color: #7f8c8d;
			font-size: 0.85em;
		}

		/* ==================== –¢–ê–ë–õ–ò–¶–´ ==================== */
		.table-container {
			overflow-x: auto;
			margin: 15px 0;
			font-size: 13px;
		}

		table {
			width: 100%;
			border-collapse: collapse;
			background: white;
			font-size: 13px;
		}

		th, td {
			padding: 10px 12px;
			text-align: left;
			border-bottom: 1px solid #ecf0f1;
		}

		th {
			background: #34495e;
			color: white;
			font-weight: 600;
			cursor: pointer;
			font-size: 12px;
		}

		th:hover {
			background: #2c3e50;
		}

		tr:nth-child(even) {
			background: #f8f9fa;
		}

		tr:hover {
			background: #e8f4fc;
		}

		/* ==================== –ì–†–ê–§–ò–ö–ò ==================== */
		.chart-container {
			background: white;
			padding: 15px;
			margin: 15px 0;
			border-radius: 8px;
			box-shadow: 0 3px 10px rgba(0,0,0,0.1);
			position: relative;
		}

		.chart-legend {
			display: flex;
			justify-content: center;
			gap: 20px;
			margin-top: 15px;
			flex-wrap: wrap;
		}

		.legend-item {
			display: flex;
			align-items: center;
			gap: 5px;
			font-size: 12px;
		}

		.legend-color {
			width: 15px;
			height: 15px;
			border-radius: 3px;
		}

		/* ==================== –ö–†–ò–¢–ï–†–ò–ò ==================== */
		.criteria-grid {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
			gap: 12px;
			margin: 12px 0;
		}

		.criteria-item {
			background: #f8f9fa;
			padding: 12px;
			border-radius: 6px;
			border-left: 4px solid #3498db;
		}

		.task-item {
			background: #f8f9fa;
			padding: 12px;
			margin: 8px 0;
			border-radius: 6px;
			border-left: 4px solid #27ae60;
		}

		.student-item {
			background: #f8f9fa;
			padding: 12px;
			margin: 8px 0;
			border-radius: 6px;
			border-left: 4px solid #e74c3c;
		}

		/* ==================== –≠–ö–°–ü–û–†–¢ ==================== */
		.export-buttons {
			display: flex;
			gap: 8px;
			flex-wrap: wrap;
			margin: 15px 0;
		}

		/* ==================== –û–¶–ï–ù–ö–ò ==================== */
		.grade-5 { background-color: #d4edda !important; }
		.grade-4 { background-color: #fff3cd !important; }
		.grade-3 { background-color: #ffeaa7 !important; }
		.grade-2 { background-color: #f8d7da !important; }

		.level-1 { border-left-color: #27ae60 !important; }
		.level-2 { border-left-color: #3498db !important; }
		.level-3 { border-left-color: #f39c12 !important; }
		.level-4 { border-left-color: #e74c3c !important; }

		.zone-green { background-color: #d4edda !important; }
		.zone-yellow { background-color: #fff3cd !important; }
		.zone-red { background-color: #f8d7da !important; }

		/* ==================== –¢–ï–ü–õ–û–í–ê–Ø –ö–ê–†–¢–ê ==================== */
		.heatmap-cell { 
			text-align: center; 
			font-weight: bold;
			font-size: 11px;
			padding: 5px !important;
		}

		.heatmap-100 { background-color: #27ae60; color: white; }
		.heatmap-80 { background-color: #87d37c; }
		.heatmap-60 { background-color: #fff3cd; }
		.heatmap-40 { background-color: #f9e79f; }
		.heatmap-20 { background-color: #f5b7b1; }
		.heatmap-0 { background-color: #e74c3c; color: white; }

		/* ==================== –û–®–ò–ë–ö–ò ==================== */
		.error-type {
			display: inline-block;
			padding: 2px 8px;
			border-radius: 12px;
			font-size: 11px;
			margin: 2px;
			color: white;
			cursor: pointer;
			transition: opacity 0.2s;
		}

		.error-type:hover {
			opacity: 0.8;
			transform: translateY(-1px);
		}

		.error-factual { background: #e74c3c; }
		.error-conceptual { background: #9b59b6; }
		.error-application { background: #3498db; }
		.error-calculation { background: #f39c12; }
		.error-logical { background: #d35400; }
		.error-attention { background: #16a085; }
		.error-technical { background: #7f8c8d; }

		/* ==================== –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò ==================== */
		.recommendation-card {
			background: #e8f4fc;
			padding: 12px;
			margin: 8px 0;
			border-radius: 6px;
			border-left: 4px solid #3498db;
		}

		.recommendation-critical { 
			background: #f8d7da; 
			border-left-color: #e74c3c; 
		}

		.recommendation-warning { 
			background: #fff3cd; 
			border-left-color: #f39c12; 
		}

		.recommendation-info { 
			background: #d1ecf1; 
			border-left-color: #3498db; 
		}

		/* ==================== –£–ü–†–ê–í–õ–ï–ù–ò–ï –û–®–ò–ë–ö–ê–ú–ò ==================== */
		.error-management-panel {
			background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
			border-radius: 10px;
			padding: 15px;
			margin-bottom: 20px;
			border-left: 4px solid #3498db;
		}

		/* ==================== –ó–ê–ì–û–õ–û–í–ö–ò –†–ê–ó–î–ï–õ–û–í ==================== */
		.section-title {
			color: #2c3e50;
			margin: 20px 0 15px 0;
			padding-bottom: 8px;
			border-bottom: 2px solid #3498db;
			font-size: 1.3em;
		}

		.sub-section {
			margin-left: 20px;
			margin-bottom: 15px;
		}

		/* ==================== –ü–ï–ß–ê–¢–¨ ==================== */
		.print-controls {
			background: #f8f9fa;
			padding: 15px;
			border-radius: 8px;
			margin: 15px 0;
			border-left: 4px solid #3498db;
		}

		.print-only {
			display: none;
		}

		.no-print {
			/* –≠–ª–µ–º–µ–Ω—Ç—ã, —Å–∫—Ä—ã–≤–∞–µ–º—ã–µ –ø—Ä–∏ –ø–µ—á–∞—Ç–∏ */
		}

		@media print {
			body {
				background: white !important;
				padding: 0 !important;
				margin: 0 !important;
				font-size: 12pt;
			}
			
			.container {
				max-width: 100% !important;
				box-shadow: none !important;
				border-radius: 0 !important;
				margin: 0 !important;
			}
			
			.tabs, .tab-btn, .btn, .search-box, input, select, textarea,
			.no-print, .print-controls, .export-buttons {
				display: none !important;
			}
			
			.tab-content {
				display: block !important;
				padding: 10mm !important;
				min-height: auto !important;
				page-break-after: always;
			}
			
			.tab-content:last-child {
				page-break-after: auto;
			}
			
			.header {
				background: #2c3e50 !important;
				padding: 10mm !important;
				margin-bottom: 5mm !important;
				color: white !important;
			}
			
			.chart-container {
				page-break-inside: avoid;
				break-inside: avoid;
				margin: 5mm 0 !important;
				padding: 3mm !important;
			}
			
			.kpi-grid {
				grid-template-columns: repeat(4, 1fr) !important;
				gap: 3mm !important;
				margin: 3mm 0 !important;
			}
			
			.kpi-card {
				padding: 3mm !important;
				margin: 2mm 0 !important;
				border-left: 2px solid #3498db !important;
			}
			
			table {
				font-size: 10pt !important;
				margin: 2mm 0 !important;
			}
			
			th, td {
				padding: 1mm 2mm !important;
				border: 0.5pt solid #ddd !important;
			}
			
			.print-only {
				display: block !important;
			}
			
			/* –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –¥–ª—è –ê4 */
			@page {
				size: A4;
				margin: 15mm;
			}
			
			body, .container {
				width: 210mm;
				height: 297mm;
			}
		}

		/* ==================== –ë–≠–ô–î–ñ–ò ==================== */
		.work-type-badge {
			display: inline-block;
			padding: 4px 8px;
			border-radius: 12px;
			font-size: 11px;
			margin: 2px;
			background: #3498db;
			color: white;
		}

		/* ==================== –°–¢–ê–¢–ò–°–¢–ò–ö–ê ==================== */
		.stats-grid {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
			gap: 15px;
			margin: 20px 0;
		}

		.stat-card {
			background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
			color: white;
			padding: 20px;
			border-radius: 10px;
			text-align: center;
			box-shadow: 0 5px 15px rgba(0,0,0,0.2);
		}

		.stat-value {
			font-size: 2em;
			font-weight: bold;
			margin: 10px 0;
		}

		.stat-label {
			font-size: 0.9em;
			opacity: 0.9;
		}

		/* ==================== –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø –ò –ú–û–î–ê–õ–¨–ù–´–ï –û–ö–ù–ê ==================== */
		.notification {
			position: fixed;
			top: 20px;
			right: 20px;
			padding: 15px 20px;
			border-radius: 8px;
			color: white;
			z-index: 1000;
			box-shadow: 0 5px 15px rgba(0,0,0,0.2);
			transform: translateX(400px);
			transition: transform 0.3s ease;
		}

		.notification.show {
			transform: translateX(0);
		}

		.notification.success { background: #27ae60; }
		.notification.error { background: #e74c3c; }
		.notification.warning { background: #f39c12; }
		.notification.info { background: #3498db; }

		.modal-overlay {
			position: fixed;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			background: rgba(0,0,0,0.5);
			display: none;
			justify-content: center;
			align-items: center;
			z-index: 2000;
		}

		.modal-overlay.show {
			display: flex;
		}

		.modal-content {
			background: white;
			padding: 30px;
			border-radius: 10px;
			max-width: 90%;
			max-height: 90%;
			overflow-y: auto;
			box-shadow: 0 20px 40px rgba(0,0,0,0.3);
		}

		/* ==================== –°–†–ê–í–ù–ò–¢–ï–õ–¨–ù–´–ô –ê–ù–ê–õ–ò–ó ==================== */
		.comparative-grid {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
			gap: 15px;
			margin: 20px 0;
		}

		.comparative-card {
			background: white;
			padding: 20px;
			border-radius: 8px;
			box-shadow: 0 3px 10px rgba(0,0,0,0.1);
			text-align: center;
		}

		.comparative-value {
			font-size: 2em;
			font-weight: bold;
			margin: 10px 0;
		}

		.comparative-value.positive { color: #27ae60; }
		.comparative-value.negative { color: #e74c3c; }

		.comparative-previous {
			color: #7f8c8d;
			font-size: 0.9em;
		}

		.comparative-diff {
			font-weight: bold;
			margin-top: 5px;
		}

		.comparative-diff.positive { color: #27ae60; }
		.comparative-diff.negative { color: #e74c3c; }

		.trend {
			font-size: 0.8em;
			margin-left: 5px;
		}

		/* ==================== –ü–û–ò–°–ö –ò –§–ò–õ–¨–¢–†–´ ==================== */
		.search-filters {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
			gap: 15px;
			margin: 20px 0;
			padding: 20px;
			background: #f8f9fa;
			border-radius: 8px;
		}

		.search-box {
			width: 100%;
			padding: 10px;
			margin: 8px 0;
			border: 2px solid #3498db;
			border-radius: 20px;
			font-size: 14px;
		}

		/* ==================== –ë–≠–ö–ê–ü–´ ==================== */
		.backup-item {
			padding: 12px;
			border: 1px solid #ddd;
			margin: 8px 0;
			border-radius: 6px;
			cursor: pointer;
			transition: all 0.3s;
		}

		.backup-item:hover {
			background: #e8f4fc;
			border-color: #3498db;
		}

		/* ==================== –£–ú–ù–´–ï –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò ==================== */
		.smart-recommendation {
			padding: 15px;
			margin: 10px 0;
			border-radius: 8px;
			border-left: 4px solid;
		}

		.recommendation-critical { 
			background: #f8d7da; 
			border-left-color: #e74c3c; 
		}

		.recommendation-warning { 
			background: #fff3cd; 
			border-left-color: #f39c12; 
		}

		.recommendation-info { 
			background: #d1ecf1; 
			border-left-color: #3498db; 
		}

		/* ==================== –ê–î–ê–ü–¢–ò–í–ù–û–°–¢–¨ ==================== */
		@media (max-width: 768px) {
			.tabs {
				flex-direction: column;
			}
			
			.tab-btn {
				min-width: 100%;
				font-size: 12px;
				padding: 12px 15px;
			}
			
			.kpi-grid {
				grid-template-columns: 1fr;
			}
			
			.container {
				margin: 10px;
				border-radius: 10px;
			}
			
			.export-buttons {
				flex-direction: column;
			}
			
			.btn {
				width: 100%;
				margin: 2px 0;
			}
			
			.chart-row {
				grid-template-columns: 1fr !important;
			}
			
			.comparative-grid {
				grid-template-columns: 1fr;
			}
			
			.stats-grid {
				grid-template-columns: 1fr;
			}
		}

		@media (max-width: 480px) {
			.header {
				padding: 20px 15px;
			}
			
			.header h1 {
				font-size: 1.8em;
			}
			
			.tab-content {
				padding: 15px;
			}
			
			.chart-container {
				padding: 10px;
			}
		}
		/* –°—Ç–∏–ª–∏ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω */
		.modal-overlay {
			position: fixed;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			background: rgba(0, 0, 0, 0.7);
			display: flex;
			justify-content: center;
			align-items: center;
			z-index: 2000;
			padding: 20px;
			animation: fadeIn 0.3s ease;
		}

		.modal-content {
			background: white;
			border-radius: 12px;
			box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
			max-width: 90%;
			max-height: 90%;
			overflow-y: auto;
			animation: slideUp 0.3s ease;
			width: 800px;
		}

		.modal-header {
			display: flex;
			justify-content: space-between;
			align-items: center;
			padding: 20px 30px;
			border-bottom: 1px solid #e0e0e0;
			background: linear-gradient(135deg, #2c3e50, #34495e);
			color: white;
			border-radius: 12px 12px 0 0;
		}

		.modal-header h3 {
			margin: 0;
			font-size: 1.4em;
		}

		.modal-close {
			background: none;
			border: none;
			font-size: 28px;
			color: white;
			cursor: pointer;
			padding: 0;
			width: 30px;
			height: 30px;
			display: flex;
			align-items: center;
			justify-content: center;
			border-radius: 50%;
			transition: background 0.3s;
		}

		.modal-close:hover {
			background: rgba(255, 255, 255, 0.2);
		}

		.modal-body {
			padding: 25px 30px;
		}

		.modal-footer {
			padding: 20px 30px;
			border-top: 1px solid #e0e0e0;
			display: flex;
			justify-content: flex-end;
			gap: 10px;
			background: #f8f9fa;
			border-radius: 0 0 12px 12px;
		}

		/* –ú–µ—Ç–æ–¥ —Ç–∞–±—ã */
		.method-tabs {
			display: flex;
			gap: 5px;
			margin-bottom: 20px;
			border-bottom: 2px solid #e0e0e0;
			padding-bottom: 5px;
		}

		.method-tab {
			padding: 10px 20px;
			background: none;
			border: none;
			border-radius: 6px 6px 0 0;
			cursor: pointer;
			font-size: 14px;
			transition: all 0.3s;
			color: #666;
		}

		.method-tab.active {
			background: #3498db;
			color: white;
			font-weight: 600;
		}

		.method-tab:hover:not(.active) {
			background: #f0f0f0;
		}

		.import-method {
			display: none;
		}

		.import-method.active {
			display: block;
			animation: fadeIn 0.3s;
		}

		/* –°—Ç–∏–ª–∏ –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ */
		.import-textarea {
			width: 100%;
			padding: 12px;
			border: 2px solid #bdc3c7;
			border-radius: 8px;
			font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
			font-size: 14px;
			resize: vertical;
			min-height: 150px;
		}

		.import-textarea:focus {
			border-color: #3498db;
			outline: none;
		}

		.file-upload {
			margin: 15px 0;
		}

		.file-upload-label {
			display: inline-block;
			padding: 12px 24px;
			background: #3498db;
			color: white;
			border-radius: 8px;
			cursor: pointer;
			transition: background 0.3s;
			font-weight: 600;
		}

		.file-upload-label:hover {
			background: #2980b9;
		}

		.file-name {
			margin-top: 10px;
			color: #666;
			font-size: 14px;
		}

		/* –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä */
		.preview-box {
			background: #f8f9fa;
			border: 1px solid #e0e0e0;
			border-radius: 8px;
			padding: 15px;
			margin: 15px 0;
			max-height: 200px;
			overflow-y: auto;
			font-size: 13px;
		}

		.scrollable-list {
			max-height: 200px;
			overflow-y: auto;
			border: 1px solid #e0e0e0;
			border-radius: 6px;
			padding: 10px;
		}

		/* –ö—Ä–∏—Ç–µ—Ä–∏–∏ */
		.criteria-grid {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
			gap: 15px;
			margin: 15px 0;
		}

		.criteria-item {
			background: #f8f9fa;
			padding: 15px;
			border-radius: 8px;
			border-left: 4px solid #3498db;
		}

		.criteria-inputs {
			display: flex;
			align-items: center;
			gap: 10px;
			margin-top: 8px;
		}

		.criteria-input {
			width: 60px;
			padding: 8px;
			border: 2px solid #bdc3c7;
			border-radius: 6px;
			text-align: center;
		}

		/* –ü—Ä–µ—Å–µ—Ç—ã */
		.presets-grid {
			display: grid;
			grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
			gap: 15px;
			margin: 20px 0;
		}

		.preset-btn {
			background: white;
			border: 2px solid #e0e0e0;
			border-radius: 10px;
			padding: 20px 10px;
			cursor: pointer;
			transition: all 0.3s;
			text-align: center;
		}

		.preset-btn:hover {
			border-color: #3498db;
			transform: translateY(-2px);
			box-shadow: 0 5px 15px rgba(52, 152, 219, 0.2);
		}

		.preset-icon {
			font-size: 24px;
			margin-bottom: 10px;
		}

		.preset-name {
			font-weight: 600;
			color: #2c3e50;
		}

		/* –≠–∫—Å–ø–æ—Ä—Ç */
		.export-grid {
			display: grid;
			grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
			gap: 15px;
			margin: 20px 0;
		}

		.export-option {
			background: white;
			border: 2px solid #e0e0e0;
			border-radius: 10px;
			padding: 20px;
			cursor: pointer;
			transition: all 0.3s;
			text-align: center;
		}

		.export-option:hover {
			border-color: #3498db;
			transform: translateY(-2px);
			box-shadow: 0 5px 15px rgba(52, 152, 219, 0.2);
		}

		.export-icon {
			font-size: 32px;
			margin-bottom: 10px;
		}

		.export-name {
			font-weight: 600;
			color: #2c3e50;
			margin-bottom: 5px;
		}

		.export-desc {
			font-size: 12px;
			color: #7f8c8d;
			line-height: 1.4;
		}

		/* –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∞–º–∏ */
		.management-grid {
			display: grid;
			grid-template-columns: 1fr 1fr;
			gap: 20px;
			margin: 20px 0;
		}

		.management-card {
			background: #f8f9fa;
			padding: 20px;
			border-radius: 10px;
			border: 1px solid #e0e0e0;
		}

		.stats-card {
			background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
			color: white;
			padding: 20px;
			border-radius: 10px;
			margin: 20px 0;
		}

		.stats-grid {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
			gap: 15px;
			margin-top: 15px;
		}

		.stat-item {
			text-align: center;
		}

		.stat-value {
			font-size: 2em;
			font-weight: bold;
			margin-bottom: 5px;
		}

		.stat-label {
			font-size: 12px;
			opacity: 0.9;
		}

		/* –ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –æ—Ç—á–µ—Ç */
		.psychology-report .report-section {
			margin-bottom: 25px;
			padding-bottom: 25px;
			border-bottom: 1px solid #e0e0e0;
		}

		.psychology-report .report-section:last-child {
			border-bottom: none;
		}

		.report-meta {
			display: flex;
			gap: 20px;
			margin-top: 10px;
			font-size: 14px;
		}

		.meta-item {
			background: #f8f9fa;
			padding: 8px 15px;
			border-radius: 6px;
		}

		.conclusion-textarea {
			width: 100%;
			padding: 15px;
			border: 2px solid #bdc3c7;
			border-radius: 8px;
			font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
			font-size: 14px;
			resize: vertical;
			min-height: 120px;
		}

		.conclusion-tools {
			display: flex;
			gap: 10px;
			margin-top: 10px;
		}

		/* –ê–Ω–∏–º–∞—Ü–∏–∏ */
		@keyframes fadeIn {
			from { opacity: 0; }
			to { opacity: 1; }
		}

		@keyframes slideUp {
			from {
				opacity: 0;
				transform: translateY(30px);
			}
			to {
				opacity: 1;
				transform: translateY(0);
			}
		}

		/* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
		@media (max-width: 768px) {
			.modal-content {
				width: 95%;
				max-height: 95%;
			}
			
			.management-grid {
				grid-template-columns: 1fr;
			}
			
			.export-grid {
				grid-template-columns: 1fr 1fr;
			}
			
			.presets-grid {
				grid-template-columns: 1fr 1fr;
			}
		}

		@media (max-width: 480px) {
			.modal-header {
				padding: 15px;
			}
			
			.modal-body {
				padding: 15px;
			}
			
			.export-grid {
				grid-template-columns: 1fr;
			}
			
			.presets-grid {
				grid-template-columns: 1fr;
			}
		}		
	</style>
    <!-- –ò–∫–æ–Ω–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <!--#include file="parts/modals.html" -->
    
    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
    <div id="app-container" class="container">
        <!-- –®–∞–ø–∫–∞ -->
        <!--#include file="parts/header.html" -->
        
        <!-- –ü–∞–Ω–µ–ª—å –≤–∫–ª–∞–¥–æ–∫ -->
        <!--#include file="parts/tabs.html" -->
        
        <!-- ==================== –°–û–î–ï–†–ñ–ò–ú–û–ï –í–ö–õ–ê–î–û–ö ==================== -->
        
        <!-- –í–∫–ª–∞–¥–∫–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ—Å—Ç–∞ -->
        <div id="setup" class="tab-content active">
            <!--#include file="parts/tab-setup.html" -->
        </div>
        
        <!-- –í–∫–ª–∞–¥–∫–∞ —Ç–∞–∫—Å–æ–Ω–æ–º–∏–∏ –∑–∞–¥–∞–Ω–∏–π -->
        <div id="tasks" class="tab-content">
            <!--#include file="parts/tab-tasks.html" -->
        </div>
        
        <!-- –í–∫–ª–∞–¥–∫–∞ —É—á–∞—â–∏—Ö—Å—è -->
        <div id="students" class="tab-content">
            <!--#include file="parts/tab-students.html" -->
        </div>
        
        <!-- –í–∫–ª–∞–¥–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏ –æ—à–∏–±–æ–∫ -->
        <div id="results" class="tab-content">
            <!--#include file="parts/tab-results.html" -->
        </div>
        
        <!-- –í–∫–ª–∞–¥–∫–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ -->
        <div id="analytics" class="tab-content">
            <!--#include file="parts/tab-analytics.html" -->
        </div>
        
        <!-- –í–∫–ª–∞–¥–∫–∞ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ -->
        <div id="visualization" class="tab-content">
            <!--#include file="parts/tab-viz.html" -->
        </div>
        
        <!-- –í–∫–ª–∞–¥–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π -->
        <div id="recommendations" class="tab-content">
            <!--#include file="parts/tab-recommend.html" -->
        </div>
        
        <!-- –í–∫–ª–∞–¥–∫–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞ -->
        <div id="export" class="tab-content">
            <!--#include file="parts/tab-export.html" -->
        </div>
    </div>
    
    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞—à–∏—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤ -->
	<script src="js/core.js"></script>
	<script src="js/render.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/charts.js"></script>
    <script src="js/export.js"></script>
    <script src="js/app.js"></script>
	<script src="js/fix-app-global.js"></script>
	<script src="js/final-fix"></script>
    
    <!-- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç -->
    <script>
        /**
         * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
         */
        document.addEventListener('DOMContentLoaded', function() {
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–¥–¥–µ—Ä–∂–∫—É localStorage
            if (typeof Storage === 'undefined') {
                alert('–í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç localStorage. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±—É–¥—É—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã.');
                return;
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–≥—Ä—É–∑–∫—É –±–∏–±–ª–∏–æ—Ç–µ–∫
            if (typeof Chart === 'undefined') {
                console.error('–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ Chart.js –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–∞');
                document.body.innerHTML = `
                    <div style="text-align: center; padding: 50px;">
                        <h1>–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏</h1>
                        <p>–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É.</p>
                        <button onclick="location.reload()">–û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É</button>
                    </div>
                `;
                return;
            }
            
        });
        
        /**
         * –ü–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫—É –∑–∞–≥—Ä—É–∑–∫–∏
         */
        function showError(message) {
            const errorDiv = document.createElement('div');
            errorDiv.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                background: #e74c3c;
                color: white;
                padding: 15px;
                text-align: center;
                z-index: 10000;
                font-family: Arial, sans-serif;
            `;
            errorDiv.innerHTML = `
                ${message}
                <button onclick="location.reload()" 
                        style="margin-left: 20px; padding: 5px 15px; background: white; color: #e74c3c; border: none; border-radius: 3px; cursor: pointer;">
                    –û–±–Ω–æ–≤–∏—Ç—å
                </button>
            `;
            document.body.appendChild(errorDiv);
        }
        
        /**
         * –ì–ª–æ–±–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
         */
        window.debugApp = function() {
            console.log('=== DEBUG INFO ===');
            console.log('app:', typeof app !== 'undefined' ? 'loaded' : 'not loaded');
            console.log('utils:', typeof utils !== 'undefined' ? 'loaded' : 'not loaded');
            console.log('render:', typeof render !== 'undefined' ? 'loaded' : 'not loaded');
            console.log('charts:', typeof charts !== 'undefined' ? 'loaded' : 'not loaded');
            console.log('exportModule:', typeof exportModule !== 'undefined' ? 'loaded' : 'not loaded');
            console.log('localStorage:', localStorage.length + ' items');
            console.log('appData:', app ? app.data : 'not available');
            console.log('==================');
            
            // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
            if (typeof app !== 'undefined' && app.showNotification) {
                app.showNotification('–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –≤—ã–≤–µ–¥–µ–Ω–∞ –≤ –∫–æ–Ω—Å–æ–ª—å', 'info');
            }
        };
        
        /**
         * –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏
         */
        document.addEventListener('keydown', function(event) {
            // Ctrl+S - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
            if (event.ctrlKey && event.key === 's') {
                event.preventDefault();
                if (typeof app !== 'undefined' && app.saveData) {
                    app.saveData();
                    if (app.showNotification) {
                        app.showNotification('–î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤—Ä—É—á–Ω—É—é', 'success');
                    }
                }
            }
            
            // Ctrl+P - –ø–µ—á–∞—Ç—å
            if (event.ctrlKey && event.key === 'p') {
                event.preventDefault();
                if (typeof exportModule !== 'undefined' && exportModule.printFullReport) {
                    exportModule.printFullReport();
                }
            }
            
            // F1 - –ø–æ–º–æ—â—å
            if (event.key === 'F1') {
                event.preventDefault();
                showHelp();
            }
            
            // Esc - –∑–∞–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
            if (event.key === 'Escape') {
                if (typeof app !== 'undefined' && app.hideModal) {
                    app.hideModal();
                }
            }
        });
        
        /**
         * –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É
         */
        function showHelp() {
            const helpHTML = `
                <h2>üÜò –°–ø—Ä–∞–≤–∫–∞ –ø–æ —Å–∏—Å—Ç–µ–º–µ</h2>
                
                <div style="max-height: 400px; overflow-y: auto;">
                    <h3>–ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏:</h3>
                    <ul>
                        <li><strong>Ctrl+S</strong> - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ</li>
                        <li><strong>Ctrl+P</strong> - –ü–µ—á–∞—Ç—å –æ—Ç—á–µ—Ç–∞</li>
                        <li><strong>F1</strong> - –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É</li>
                        <li><strong>Esc</strong> - –ó–∞–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ</li>
                    </ul>
                    
                    <h3>–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:</h3>
                    <ol>
                        <li><strong>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</strong> - –ó–∞–¥–∞–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∞–±–æ—Ç—ã</li>
                        <li><strong>–ó–∞–¥–∞–Ω–∏—è</strong> - –î–æ–±–∞–≤—å—Ç–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –∑–∞–¥–∞–Ω–∏—è</li>
                        <li><strong>–£—á–∞—â–∏–µ—Å—è</strong> - –í–Ω–µ—Å–∏—Ç–µ —Å–ø–∏—Å–æ–∫ —É—á–∞—â–∏—Ö—Å—è</li>
                        <li><strong>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã</strong> - –í–≤–µ–¥–∏—Ç–µ –±–∞–ª–ª—ã –∏ –æ—à–∏–±–∫–∏</li>
                        <li><strong>–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</strong> - –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</li>
                        <li><strong>–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è</strong> - –ò–∑—É—á–∏—Ç–µ –≥—Ä–∞—Ñ–∏–∫–∏</li>
                        <li><strong>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</strong> - –ü–æ–ª—É—á–∏—Ç–µ –≤—ã–≤–æ–¥—ã</li>
                        <li><strong>–≠–∫—Å–ø–æ—Ä—Ç</strong> - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –æ—Ç—á–µ—Ç—ã</li>
                    </ol>
                    
                    <h3>–°–æ–≤–µ—Ç—ã:</h3>
                    <ul>
                        <li>–î–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã</li>
                        <li>–°–æ–∑–¥–∞—é—Ç—Å—è —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 5 —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π</li>
                        <li>–ú–æ–∂–Ω–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö</li>
                        <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞</li>
                    </ul>
                </div>
                
                <div style="margin-top: 20px; padding-top: 15px; border-top: 1px solid #ddd;">
                    <p><strong>–í–µ—Ä—Å–∏—è —Å–∏—Å—Ç–µ–º—ã:</strong> 2.0.0</p>
                    <p><strong>–ü–æ–¥–¥–µ—Ä–∂–∫–∞:</strong> –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤ –±—Ä–∞—É–∑–µ—Ä–µ</p>
                    <p><strong>–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:</strong> –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π JavaScript</p>
                </div>
                
                <div style="margin-top: 20px; text-align: right;">
                    <button class="btn" onclick="hideModal()">–ó–∞–∫—Ä—ã—Ç—å</button>
                </div>
            `;
            
            // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ñ—É–Ω–∫—Ü–∏—é showModal –∏–∑ app.js –µ—Å–ª–∏ –æ–Ω–∞ –µ—Å—Ç—å
            if (typeof app !== 'undefined' && app.showModal) {
                app.showModal('–°–ø—Ä–∞–≤–∫–∞ –ø–æ —Å–∏—Å—Ç–µ–º–µ', helpHTML);
            } else {
                // –ó–∞–ø–∞—Å–Ω–æ–π –≤–∞—Ä–∏–∞–Ω—Ç
                alert('–°–ø—Ä–∞–≤–∫–∞ –ø–æ —Å–∏—Å—Ç–µ–º–µ:\n\n–ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏:\n‚Ä¢ Ctrl+S - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å\n‚Ä¢ Ctrl+P - –ü–µ—á–∞—Ç—å\n‚Ä¢ F1 - –°–ø—Ä–∞–≤–∫–∞\n‚Ä¢ Esc - –ó–∞–∫—Ä—ã—Ç—å –æ–∫–Ω–æ');
            }
        }
        
        /**
         * –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å SSI (Server Side Includes)
         * –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç SSI, —ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–º–µ–Ω—è–µ—Ç –∏–Ω–∫–ª—é–¥—ã
         */
        function processIncludes() {
            const includes = document.querySelectorAll('[data-include]');
            if (includes.length > 0) {
                console.log('–û–±—Ä–∞–±–æ—Ç–∫–∞ data-include –∞—Ç—Ä–∏–±—É—Ç–æ–≤...');
                
                includes.forEach(async element => {
                    const file = element.getAttribute('data-include');
                    try {
                        const response = await fetch(file);
                        if (response.ok) {
                            const content = await response.text();
                            element.innerHTML = content;
                            element.removeAttribute('data-include');
                        }
                    } catch (error) {
                        console.error(`–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ ${file}:`, error);
                        element.innerHTML = `<div style="color: #e74c3c; padding: 10px; border: 1px solid #e74c3c; border-radius: 4px;">
                            –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: ${file}<br>
                            <small>${error.message}</small>
                        </div>`;
                    }
                });
            }
        }
        
        // –ï—Å–ª–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ <!--#include –Ω–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã —Å–µ—Ä–≤–µ—Ä–æ–º, –ø—Ä–æ–±—É–µ–º –∑–∞–≥—Ä—É–∑–∏—Ç—å —á–µ—Ä–µ–∑ JS
        setTimeout(() => {
            const includes = document.body.innerHTML.match(/<!--#include/g);
            if (includes && includes.length > 0) {
                console.log('–û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ SSI –¥–∏—Ä–µ–∫—Ç–∏–≤—ã. –ó–∞–ø—É—Å–∫ JS –æ–±—Ä–∞–±–æ—Ç–∫–∏...');
                processIncludes();
            }
        }, 1000);
        
        /**
         * –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ Promise
         */
        window.addEventListener('unhandledrejection', function(event) {
            console.error('–ù–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞ Promise:', event.reason);
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –¥—Ä—É–∂–µ–ª—é–±–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
            if (typeof app !== 'undefined' && app.showNotification) {
                app.showNotification('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏', 'error');
            }
        });
        
        /**
         * –û–±—Ä–∞–±–æ—Ç–∫–∞ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –æ—à–∏–±–æ–∫
         */
        window.addEventListener('error', function(event) {
            console.error('–ì–ª–æ–±–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞:', event.error);
            
            // –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏
            const ignoreErrors = [
                'ResizeObserver loop',
                'Script error',
                'Loading failed for the script'
            ];
            
            if (ignoreErrors.some(ignore => event.message && event.message.includes(ignore))) {
                return;
            }
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –¥–ª—è –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã—Ö –æ—à–∏–±–æ–∫
            if (typeof app !== 'undefined' && app.showNotification && event.error && event.error.message) {
                const errorMsg = event.error.message.length > 50 
                    ? event.error.message.substring(0, 50) + '...' 
                    : event.error.message;
                app.showNotification(`–û—à–∏–±–∫–∞: ${errorMsg}`, 'error');
            }
        });
    </script>
    
    <!-- –°—Ç–∏–ª–∏ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å —Ä–∞–∑–Ω—ã–º–∏ –±—Ä–∞—É–∑–µ—Ä–∞–º–∏ -->
    <style>
        /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è —Å—Ç–∞—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤ */
        @supports not (display: grid) {
            .kpi-grid, .chart-row, .comparative-grid, .stats-grid {
                display: flex;
                flex-wrap: wrap;
            }
            
            .kpi-card, .chart-container, .comparative-card, .stat-card {
                flex: 1 1 200px;
                margin: 10px;
            }
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ */
        #loading {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: white;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.3s;
        }
        
        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 5px solid #f3f3f3;
            border-top: 5px solid #3498db;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* –£–ª—É—á—à–µ–Ω–Ω–∞—è –ø–µ—á–∞—Ç—å */
        @media print {
            .no-print, .print-controls, .export-buttons, button, .tabs {
                display: none !important;
            }
            
            a[href]:after {
                content: " (" attr(href) ")";
            }
            
            .break-before {
                page-break-before: always;
            }
            
            .break-after {
                page-break-after: always;
            }
            
            .break-inside-avoid {
                page-break-inside: avoid;
            }
        }
        
        /* –£–ª—É—á—à–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
        
        /* –í—ã—Å–æ–∫–æ–∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω—ã–π —Ä–µ–∂–∏–º */
        @media (prefers-contrast: high) {
            body {
                color: black;
                background: white;
            }
            
            .btn {
                border: 2px solid black;
            }
        }
        
        /* –£–≤–µ–ª–∏—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ */
        @media (prefers-reduced-data: reduce) {
            * {
                background-image: none !important;
            }
        }
    </style>
    
    <!-- –≠–∫—Ä–∞–Ω –∑–∞–≥—Ä—É–∑–∫–∏ (–∏—Å—á–µ–∑–∞–µ—Ç –ø–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏) -->
    <div id="loading">
        <div class="loading-spinner"></div>
        <div style="margin-left: 20px;">
            <h3>–ó–∞–≥—Ä—É–∑–∫–∞ —Å–∏—Å—Ç–µ–º—ã –∞–Ω–∞–ª–∏–∑–∞...</h3>
            <p>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–æ–∂–¥–∏—Ç–µ</p>
        </div>
    </div>
    
    <script>
        // –°–∫—Ä—ã–≤–∞–µ–º —ç–∫—Ä–∞–Ω –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ—Å–ª–µ –ø–æ–ª–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
        window.addEventListener('load', function() {
            setTimeout(() => {
                const loading = document.getElementById('loading');
                if (loading) {
                    loading.style.opacity = '0';
                    setTimeout(() => {
                        loading.style.display = 'none';
                    }, 300);
                }
            }, 500);
        });
        
        // –ó–∞–ø–∞—Å–Ω–æ–π –≤–∞—Ä–∏–∞–Ω—Ç: —Å–∫—Ä—ã—Ç—å —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã –≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ
        setTimeout(() => {
            const loading = document.getElementById('loading');
            if (loading && loading.style.display !== 'none') {
                loading.style.display = 'none';
            }
        }, 3000);
    </script>
</body>
</html>