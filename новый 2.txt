<!-- –û–±–Ω–æ–≤–ª—è–µ–º HTML –≤–∫–ª–∞–¥–∫–∏ setup -->
<div id="setup" class="tab-content active">
    <header class="header">
        <h1>üéØ –£–º–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏</h1>
        <p class="subtitle">–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–∞–±–æ—Ç—É –æ–¥–∏–Ω —Ä–∞–∑ ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—Å–µ–≥–¥–∞</p>
    </header>

    <!-- –ë–´–°–¢–†–´–ô –°–¢–ê–†–¢ -->
    <div class="quick-start" style="padding: 20px; background: #f8f9fa; border-radius: 10px; margin: 20px;">
        <h3>üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (–≤—ã–±–µ—Ä–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç):</h3>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin: 15px 0;">
            <button class="btn btn-outline" onclick="quickStart('import')">
                üì• –ò–º–ø–æ—Ä—Ç –≥–æ—Ç–æ–≤–æ–≥–æ —à–∞–±–ª–æ–Ω–∞
            </button>
            <button class="btn btn-outline" onclick="quickStart('duplicate')">
                üîÑ –î—É–±–ª–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—à–ª—É—é —Ä–∞–±–æ—Ç—É
            </button>
            <button class="btn btn-outline" onclick="quickStart('ai')">
                ü§ñ AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
            </button>
        </div>
    </div>

    <!-- –û–°–ù–û–í–ù–ê–Ø –§–û–†–ú–ê –í –°–¢–ò–õ–ï –ö–ê–ù–ë–ê–ù-–î–û–°–ö–ò -->
    <div class="setup-board" style="display: grid; grid-template-columns: 300px 1fr; gap: 20px; min-height: 600px;">
        
        <!-- –õ–ï–í–ê–Ø –ü–ê–ù–ï–õ–¨ - –≠–¢–ê–ü–´ -->
        <div class="setup-steps" style="background: #2c3e50; color: white; border-radius: 10px; padding: 20px;">
            <h3 style="color: white; margin-top: 0;">üìã –≠—Ç–∞–ø—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
            <div class="step-nav">
                <div class="step-item active" data-step="1" onclick="showStep(1)">
                    <div class="step-icon">1</div>
                    <div class="step-info">
                        <strong>–¢–∏–ø —Ä–∞–±–æ—Ç—ã</strong>
                        <small>–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–æ—Ä–º–∞—Ç</small>
                    </div>
                </div>
                <div class="step-item" data-step="2" onclick="showStep(2)">
                    <div class="step-icon">2</div>
                    <div class="step-info">
                        <strong>–û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</strong>
                        <small>–ü—Ä–µ–¥–º–µ—Ç, –∫–ª–∞—Å—Å, —Ç–µ–º–∞</small>
                    </div>
                </div>
                <div class="step-item" data-step="3" onclick="showStep(3)">
                    <div class="step-icon">3</div>
                    <div class="step-info">
                        <strong>–ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∏–≤–∞–Ω–∏—è</strong>
                        <small>–°–∏—Å—Ç–µ–º–∞ –æ—Ü–µ–Ω–æ–∫</small>
                    </div>
                </div>
                <div class="step-item" data-step="4" onclick="showStep(4)">
                    <div class="step-icon">4</div>
                    <div class="step-info">
                        <strong>–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä</strong>
                        <small>–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫</small>
                    </div>
                </div>
            </div>
            
            <!-- –ë–´–°–¢–†–´–ï –î–ï–ô–°–¢–í–ò–Ø -->
            <div style="margin-top: 30px; padding-top: 20px; border-top: 1px solid rgba(255,255,255,0.1);">
                <h4 style="color: white;">‚ö° –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h4>
                <button class="btn btn-sm btn-outline-light" onclick="importCriteriaFromTemplate()" style="width: 100%; margin: 5px 0;">
                    üìã –ò–º–ø–æ—Ä—Ç –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤
                </button>
                <button class="btn btn-sm btn-outline-light" onclick="syncCriteriaWithTasks()" style="width: 100%; margin: 5px 0;">
                    üîÑ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å –∑–∞–¥–∞–Ω–∏—è–º–∏
                </button>
                <button class="btn btn-sm btn-outline-light" onclick="resetCriteria()" style="width: 100%; margin: 5px 0;">
                    üîÑ –°–±—Ä–æ—Å–∏—Ç—å –∫—Ä–∏—Ç–µ—Ä–∏–∏
                </button>
            </div>
        </div>

        <!-- –ü–†–ê–í–ê–Ø –ü–ê–ù–ï–õ–¨ - –ö–û–ù–¢–ï–ù–¢ -->
        <div class="setup-content" style="background: white; border-radius: 10px; padding: 25px; overflow-y: auto;">
            
            <!-- –®–ê–ì 1: –¢–ò–ü –†–ê–ë–û–¢–´ (—É–∂–µ –µ—Å—Ç—å, –æ—Å—Ç–∞–≤–ª—è–µ–º) -->
            <div class="step-content active" id="stepContent1">
				<div class="step-header">
					<span class="step-number">1</span>
					<h2>üìä –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø —Ä–∞–±–æ—Ç—ã</h2>
				</div>
				<p class="step-description">–≠—Ç–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç –æ—Å—Ç–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∏–≤–∞–Ω–∏—è</p>
				
				<div class="worktype-grid">
					<div class="worktype-card" onclick="selectWorkType('current')">
						<div class="worktype-icon">üìù</div>
						<h3>–¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è</h3>
						<p>–û—Ü–µ–Ω–∫–∞ –∑–Ω–∞–Ω–∏–π –ø–æ —Ç–µ–∫—É—â–µ–π —Ç–µ–º–µ</p>
						<div class="worktype-details">
							<span>‚è± 40-45 –º–∏–Ω</span>
							<span>üìã 10-15 –∑–∞–¥–∞–Ω–∏–π</span>
						</div>
					</div>
					
					<div class="worktype-card" onclick="selectWorkType('milestone')">
						<div class="worktype-icon">üéØ</div>
						<h3>–†—É–±–µ–∂–Ω–∞—è</h3>
						<p>–ö–æ–Ω—Ç—Ä–æ–ª—å –∑–∞ —á–µ—Ç–≤–µ—Ä—Ç—å/—Ç—Ä–∏–º–µ—Å—Ç—Ä</p>
						<div class="worktype-details">
							<span>‚è± 80-90 –º–∏–Ω</span>
							<span>üìã 20-25 –∑–∞–¥–∞–Ω–∏–π</span>
						</div>
					</div>
					
					<div class="worktype-card" onclick="selectWorkType('final')">
						<div class="worktype-icon">üèÜ</div>
						<h3>–ò—Ç–æ–≥–æ–≤–∞—è</h3>
						<p>–ì–æ–¥–æ–≤–∞—è –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞</p>
						<div class="worktype-details">
							<span>‚è± 90-120 –º–∏–Ω</span>
							<span>üìã 25-30 –∑–∞–¥–∞–Ω–∏–π</span>
						</div>
					</div>
					
					<div class="worktype-card" onclick="selectWorkType('oge')">
						<div class="worktype-icon">üìò</div>
						<h3>–û–ì–≠</h3>
						<p>–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω 9 –∫–ª–∞—Å—Å</p>
						<div class="worktype-details">
							<span>‚è± 180-235 –º–∏–Ω</span>
							<span>üìã –ß–∞—Å—Ç–∏ 1 –∏ 2</span>
						</div>
					</div>
					
					<div class="worktype-card" onclick="selectWorkType('ege')">
						<div class="worktype-icon">üìó</div>
						<h3>–ï–ì–≠</h3>
						<p>–ï–¥–∏–Ω—ã–π –≥–æ—Å—ç–∫–∑–∞–º–µ–Ω 11 –∫–ª–∞—Å—Å</p>
						<div class="worktype-details">
							<span>‚è± 180-235 –º–∏–Ω</span>
							<span>üìã –ß–∞—Å—Ç–∏ 1 –∏ 2</span>
						</div>
					</div>
					
					<div class="worktype-card" onclick="selectWorkType('vpr')">
						<div class="worktype-icon">üìô</div>
						<h3>–í–ü–†</h3>
						<p>–í—Å–µ—Ä–æ—Å—Å–∏–π—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–æ—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞</p>
						<div class="worktype-details">
							<span>‚è± 45-60 –º–∏–Ω</span>
							<span>üìã –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –Ω–∞–±–æ—Ä</span>
						</div>
					</div>
					
					<div class="worktype-card" onclick="selectWorkType('func_literacy')">
						<div class="worktype-icon">üß†</div>
						<h3>–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –≥—Ä–∞–º–æ—Ç–Ω–æ—Å—Ç—å</h3>
						<p>–û—Ü–µ–Ω–∫–∞ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –Ω–∞–≤—ã–∫–æ–≤</p>
						<div class="worktype-details">
							<span>‚è± 60-90 –º–∏–Ω</span>
							<span>üìã –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è</span>
						</div>
					</div>
					
					<div class="worktype-card" onclick="selectWorkType('psychology')">
						<div class="worktype-icon">üí≠</div>
						<h3>–ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞</h3>
						<p>–û—Ü–µ–Ω–∫–∞ –ª–∏—á–Ω–æ—Å—Ç–Ω—ã—Ö –∫–∞—á–µ—Å—Ç–≤</p>
						<div class="worktype-details">
							<span>‚è± 40-60 –º–∏–Ω</span>
							<span>üìã –¢–µ—Å—Ç—ã, –∞–Ω–∫–µ—Ç—ã</span>
						</div>
					</div>
				</div>
				
				<div class="worktype-select-container" style="display: none;">
					<label for="workType" class="section-label">–ò–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –∏–∑ —Å–ø–∏—Å–∫–∞:</label>
					<select id="workType" class="form-control-large" onchange="updateWorkType(); scheduleAutoSave(); updateProgress();">
						<option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø —Ä–∞–±–æ—Ç—ã --</option>
						<option value="current">–¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è</option>
						<option value="milestone">–†—É–±–µ–∂–Ω–∞—è</option>
						<option value="final">–ò—Ç–æ–≥–æ–≤–∞—è</option>
						<option value="oge">–û–ì–≠</option>
						<option value="ege">–ï–ì–≠</option>
						<option value="vpr">–í–ü–†</option>
						<option value="func_literacy">–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –≥—Ä–∞–º–æ—Ç–Ω–æ—Å—Ç—å</option>
						<option value="diagnostic">–î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∞—è</option>
						<option value="psychology">–ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞</option>
					</select>
				</div>
				
				<div class="worktype-info" id="worktypeInfo" style="display: none;">
					<div class="info-card">
						<h4 id="selectedWorktypeTitle">–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–∏–ø–∞</h4>
						<p id="selectedWorktypeDesc">–û–ø–∏—Å–∞–Ω–∏–µ —Ç–∏–ø–∞ —Ä–∞–±–æ—Ç—ã</p>
						<div class="info-grid">
							<div class="info-item">
								<span class="info-label">–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ –≤—Ä–µ–º—è:</span>
								<span class="info-value" id="infoTime">45 –º–∏–Ω—É—Ç</span>
							</div>
							<div class="info-item">
								<span class="info-label">–§–æ—Ä–º–∞—Ç:</span>
								<span class="info-value" id="infoFormat">–¢–µ—Å—Ç</span>
							</div>
							<div class="info-item">
								<span class="info-label">–°–∏—Å—Ç–µ–º–∞ –æ—Ü–µ–Ω–∏–≤–∞–Ω–∏—è:</span>
								<span class="info-value" id="infoGrading">5-–±–∞–ª–ª—å–Ω–∞—è</span>
							</div>
						</div>
					</div>
				</div>
				
				<button class="btn btn-primary btn-next" onclick="nextStep()" disabled id="nextStep1">
					–î–∞–ª–µ–µ ‚Üí –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
				</button>
            </div>

            <!-- –®–ê–ì 2: –û–°–ù–û–í–ù–´–ï –î–ê–ù–ù–´–ï (—É–∂–µ –µ—Å—Ç—å, –æ—Å—Ç–∞–≤–ª—è–µ–º) -->
            <div class="step-content" id="stepContent2">
				<div class="step-header">
					<span class="step-number">2</span>
					<h2>üìã –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h2>
				</div>
				
				<div class="settings-card">
					<div class="form-row">
						<div class="form-group">
							<label for="subject" class="required">üìö –ü—Ä–µ–¥–º–µ—Ç</label>
							<input type="text" id="subject" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞" 
								   oninput="scheduleAutoSave(); updateProgress();" 
								   class="form-input">
							<small class="form-hint">–£–∫–∞–∂–∏—Ç–µ —É—á–µ–±–Ω—ã–π –ø—Ä–µ–¥–º–µ—Ç</small>
						</div>
						
						<div class="form-group">
							<label for="class" class="required">üë• –ö–ª–∞—Å—Å</label>
							<input type="text" id="class" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 5–ê" 
								   oninput="scheduleAutoSave(); updateProgress();" 
								   class="form-input">
							<small class="form-hint">–£–∫–∞–∂–∏—Ç–µ –∫–ª–∞—Å—Å –∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å</small>
						</div>
					</div>
					
					<div class="form-row">
						<div class="form-group">
							<label for="testDate" class="required">üìÖ –î–∞—Ç–∞ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è</label>
							<input type="date" id="testDate" 
								   onchange="scheduleAutoSave(); updateProgress();" 
								   class="form-input">
							<small class="form-hint">–î–∞—Ç–∞ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã</small>
						</div>
						
						<div class="form-group">
							<label for="timeLimit" class="required">‚è± –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–º–∏–Ω—É—Ç)</label>
							<input type="number" id="timeLimit" min="1" value="45" 
								   oninput="scheduleAutoSave(); updateProgress();" 
								   class="form-input">
							<small class="form-hint">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã –≤ –º–∏–Ω—É—Ç–∞—Ö</small>
						</div>
					</div>
				</div>
				
				<div class="settings-card">
					<h3 class="card-title">üéØ –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã</h3>
					
					<div class="form-group">
						<label for="testTheme" class="required">üìñ –¢–µ–º–∞ —Ä–∞–±–æ—Ç—ã</label>
						<input type="text" id="testTheme" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –î—Ä–æ–±–∏ –∏ –ø—Ä–æ—Ü–µ–Ω—Ç—ã" 
							   oninput="scheduleAutoSave(); updateProgress();" 
							   class="form-input">
						<small class="form-hint">–û—Å–Ω–æ–≤–Ω–∞—è —Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã</small>
					</div>
					
					<div class="form-group">
						<label for="testGoals" class="required">üéØ –ü—Ä–æ–≤–µ—Ä—è–µ–º—ã–µ —Ü–µ–ª–∏ –∏ —ç–ª–µ–º–µ–Ω—Ç—ã —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—è</label>
						<textarea id="testGoals" rows="4" 
								  placeholder="–ü–µ—Ä–µ—á–∏—Å–ª–∏—Ç–µ –ø—Ä–æ–≤–µ—Ä—è–µ–º—ã–µ –∑–Ω–∞–Ω–∏—è, —É–º–µ–Ω–∏—è, –Ω–∞–≤—ã–∫–∏..." 
								  oninput="scheduleAutoSave(); updateProgress();" 
								  class="form-textarea"></textarea>
						<small class="form-hint">–ö–∞–∫–∏–µ –∏–º–µ–Ω–Ω–æ —É–º–µ–Ω–∏—è –∏ –∑–Ω–∞–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —ç—Ç–∞ —Ä–∞–±–æ—Ç–∞?</small>
					</div>
					
					<div class="form-group">
						<label for="workFormat" class="required">üìÑ –§–æ—Ä–º–∞—Ç —Ä–∞–±–æ—Ç—ã</label>
						<select id="workFormat" onchange="scheduleAutoSave(); updateProgress();" class="form-select">
							<option value="traditional">–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–∞—è (—Å —Ä–µ—à–µ–Ω–∏—è–º–∏)</option>
							<option value="test">–¢–µ—Å—Ç (–≤—ã–±–æ—Ä –æ—Ç–≤–µ—Ç–∞)</option>
							<option value="mixed">–°–º–µ—à–∞–Ω–Ω–∞—è</option>
							<option value="extended">–° —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–º –æ—Ç–≤–µ—Ç–æ–º</option>
						</select>
						<small class="form-hint">–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–ø–æ—Å–æ–± –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –∞–Ω–∞–ª–∏–∑–∞</small>
					</div>
				</div>
				
				<div class="step-navigation">
					<button class="btn" onclick="prevStep()">
						‚Üê –ù–∞–∑–∞–¥ –∫ —Ç–∏–ø—É —Ä–∞–±–æ—Ç—ã
					</button>
					<button class="btn btn-primary" onclick="nextStep()" id="nextStep2">
						–î–∞–ª–µ–µ ‚Üí –£—á–∞—â–∏–µ—Å—è
					</button>
				</div>
            </div>

            <!-- –®–ê–ì 3: –ö–†–ò–¢–ï–†–ò–ò –û–¶–ï–ù–ò–í–ê–ù–ò–Ø (–ü–ï–†–ï–†–ê–ë–û–¢–ê–ù–ù–´–ô) -->
            <div class="step-content" id="stepContent3">
                <div class="criteria-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <h2 style="margin: 0;">üìä –ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∏–≤–∞–Ω–∏—è</h2>
                    <div class="criteria-mode-switch">
                        <button class="btn btn-sm btn-outline" onclick="switchCriteriaMode('visual')">
                            üé® –í–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º
                        </button>
                        <button class="btn btn-sm btn-outline" onclick="switchCriteriaMode('numeric')">
                            üî¢ –ß–∏—Å–ª–æ–≤–æ–π —Ä–µ–∂–∏–º
                        </button>
                        <button class="btn btn-sm btn-outline" onclick="switchCriteriaMode('advanced')">
                            ‚öôÔ∏è –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π
                        </button>
                    </div>
                </div>

                <!-- –í–ò–ó–£–ê–õ–¨–ù–´–ô –†–ï–ñ–ò–ú (–ü–û –£–ú–û–õ–ß–ê–ù–ò–Æ) -->
                <div class="criteria-visual-mode" id="criteriaVisualMode">
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
                        <h4>üéØ –î–∏–∞–ø–∞–∑–æ–Ω –±–∞–ª–ª–æ–≤: <span id="totalScoreRange">0-100</span></h4>
                        <div class="slider-container" style="margin: 20px 0;">
                            <div class="slider-track" id="criteriaSlider" style="height: 40px; background: linear-gradient(to right, #e74c3c, #f39c12, #f1c40f, #2ecc71); border-radius: 20px; position: relative;">
                                <!-- –°–ª–∞–π–¥–µ—Ä—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                            </div>
                        </div>
                        
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; margin-top: 20px;">
                            <div class="grade-card" data-grade="2" onclick="editGradeCard(2)">
                                <div class="grade-badge" style="background: #e74c3c;">2</div>
                                <div class="grade-range">0-9</div>
                                <div class="grade-desc">–ù–µ—É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ</div>
                            </div>
                            <div class="grade-card" data-grade="3" onclick="editGradeCard(3)">
                                <div class="grade-badge" style="background: #f39c12;">3</div>
                                <div class="grade-range">10-14</div>
                                <div class="grade-desc">–£–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ</div>
                            </div>
                            <div class="grade-card" data-grade="4" onclick="editGradeCard(4)">
                                <div class="grade-badge" style="background: #3498db;">4</div>
                                <div class="grade-range">15-17</div>
                                <div class="grade-desc">–•–æ—Ä–æ—à–æ</div>
                            </div>
                            <div class="grade-card" data-grade="5" onclick="editGradeCard(5)">
                                <div class="grade-badge" style="background: #2ecc71;">5</div>
                                <div class="grade-range">18-20</div>
                                <div class="grade-desc">–û—Ç–ª–∏—á–Ω–æ</div>
                            </div>
                        </div>
                    </div>

                    <!-- –ò–ù–¢–ï–õ–õ–ï–ö–¢–£–ê–õ–¨–ù–´–ï –ü–û–î–°–ö–ê–ó–ö–ò -->
                    <div class="criteria-suggestions" style="background: #e8f4fc; padding: 15px; border-radius: 10px; margin: 20px 0;">
                        <h4>üí° –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏</h4>
                        <div id="criteriaSuggestions">
                            <p>–ù–∞ –æ—Å–Ω–æ–≤–µ —Ç–∏–ø–∞ —Ä–∞–±–æ—Ç—ã "<span id="workTypeName">–¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è</span>" —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º:</p>
                            <ul>
                                <li>–®–∫–∞–ª–∞ 2-5 –±–∞–ª–ª–æ–≤</li>
                                <li>–ü–æ—Ä–æ–≥ "3" = 50% –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è</li>
                                <li>–ü–æ—Ä–æ–≥ "4" = 75% –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è</li>
                                <li>–ü–æ—Ä–æ–≥ "5" = 90% –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è</li>
                            </ul>
                            <button class="btn btn-sm btn-primary" onclick="applySuggestions()">
                                –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
                            </button>
                        </div>
                    </div>

                    <!-- –ü–†–ï–î–ü–†–û–°–ú–û–¢–† –° –£–ß–ï–ù–ò–ö–ê–ú–ò -->
                    <div class="criteria-preview" style="margin-top: 20px;">
                        <h4>üëÅÔ∏è –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –¥–ª—è —É—á–µ–Ω–∏–∫–æ–≤</h4>
                        <div style="display: flex; gap: 10px; align-items: center; margin-bottom: 15px;">
                            <span>–ï—Å–ª–∏ —É—á–µ–Ω–∏–∫ –Ω–∞–±–µ—Ä–µ—Ç:</span>
                            <input type="number" id="previewScore" value="15" min="0" max="100" 
                                   style="width: 80px; padding: 5px; text-align: center;" 
                                   oninput="updateScorePreview(this.value)">
                            <span>–±–∞–ª–ª–æ–≤ ‚Üí –æ—Ü–µ–Ω–∫–∞:</span>
                            <div id="previewGrade" style="font-size: 24px; font-weight: bold; color: #3498db;">
                                4
                            </div>
                        </div>
                        
                        <!-- –ò–ù–¢–ï–†–ê–ö–¢–ò–í–ù–ê–Ø –¢–ê–ë–õ–ò–¶–ê –ü–†–ò–ú–ï–†–û–í -->
                        <div style="background: white; border: 1px solid #eee; border-radius: 8px; padding: 15px;">
                            <h5>üìù –ü—Ä–∏–º–µ—Ä—ã –æ—Ü–µ–Ω–æ–∫:</h5>
                            <table style="width: 100%; font-size: 12px;">
                                <thead>
                                    <tr>
                                        <th>–ó–∞–¥–∞–Ω–∏–µ</th>
                                        <th>–ë–∞–ª–ª—ã</th>
                                        <th>–ò—Ç–æ–≥</th>
                                        <th>–û—Ü–µ–Ω–∫–∞</th>
                                    </tr>
                                </thead>
                                <tbody id="exampleScores">
                                    <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω–∏—Ç—Å—è -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- –ß–ò–°–õ–û–í–û–ô –†–ï–ñ–ò–ú -->
                <div class="criteria-numeric-mode" id="criteriaNumericMode" style="display: none;">
                    <div style="background: #f0f8ff; padding: 20px; border-radius: 10px;">
                        <h4>üî¢ –¢–æ—á–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</h4>
                        <table style="width: 100%;" class="criteria-table">
                            <thead>
                                <tr>
                                    <th>–û—Ü–µ–Ω–∫–∞</th>
                                    <th>–û—Ç %</th>
                                    <th>–î–æ %</th>
                                    <th>–û—Ç –±–∞–ª–ª–æ–≤</th>
                                    <th>–î–æ –±–∞–ª–ª–æ–≤</th>
                                    <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
                                    <th>–¶–≤–µ—Ç</th>
                                </tr>
                            </thead>
                            <tbody id="numericCriteriaTable">
                                <!-- –ó–∞–ø–æ–ª–Ω–∏—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                            </tbody>
                        </table>
                        
                        <div style="margin-top: 20px;">
                            <button class="btn btn-success" onclick="saveNumericCriteria()">
                                üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —á–∏—Å–ª–æ–≤—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏
                            </button>
                        </div>
                    </div>
                </div>

                <!-- –†–ê–°–®–ò–†–ï–ù–ù–´–ô –†–ï–ñ–ò–ú -->
                <div class="criteria-advanced-mode" id="criteriaAdvancedMode" style="display: none;">
                    <div style="background: #fff8e1; padding: 20px; border-radius: 10px;">
                        <h4>‚öôÔ∏è –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</h4>
                        <div class="form-group">
                            <label>–¢–∏–ø —à–∫–∞–ª—ã:</label>
                            <select id="scaleType" onchange="changeScaleType()" class="form-control">
                                <option value="points">–ë–∞–ª–ª—ã</option>
                                <option value="percentage">–ü—Ä–æ—Ü–µ–Ω—Ç—ã</option>
                                <option value="custom">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è</option>
                                <option value="levels">–£—Ä–æ–≤–Ω–∏ (–Ω–∏–∑–∫–∏–π/—Å—Ä–µ–¥–Ω–∏–π/–≤—ã—Å–æ–∫–∏–π)</option>
                                <option value="competency">–ö–æ–º–ø–µ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–Ω–∞—è (–Ω–µ –æ—Å–≤–æ–∏–ª/–æ—Å–≤–æ–∏–ª)</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥—Ä–∞–¥–∞—Ü–∏–π:</label>
                            <input type="range" id="gradeCount" min="2" max="10" value="4" 
                                   oninput="updateGradeCount(this.value)">
                            <span id="gradeCountValue">4</span>
                        </div>
                        
                        <div class="form-group">
                            <label>–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:</label>
                            <select id="distributionType" onchange="redistributeGrades()" class="form-control">
                                <option value="linear">–õ–∏–Ω–µ–π–Ω–æ–µ</option>
                                <option value="exponential">–≠–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ</option>
                                <option value="custom">–†—É—á–Ω–æ–µ</option>
                            </select>
                        </div>
                        
                        <div id="advancedControls">
                            <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª—ã -->
                        </div>
                    </div>
                </div>

                <!-- –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–Ø –° –ó–ê–î–ê–ù–ò–Ø–ú–ò -->
                <div class="criteria-sync" style="margin-top: 30px; padding: 20px; background: #e8f4fc; border-radius: 10px;">
                    <h4>üîÑ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –∑–∞–¥–∞–Ω–∏—è–º–∏</h4>
                    <p>–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–ª –∑–∞ –≤—Å–µ –∑–∞–¥–∞–Ω–∏—è: <strong id="maxTotalScore">20</strong></p>
                    <p>–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏:</p>
                    <div id="taskBasedSuggestions">
                        <!-- –ó–∞–ø–æ–ª–Ω–∏—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                    <button class="btn btn-primary" onclick="autoGenerateCriteria()">
                        ü§ñ –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤
                    </button>
                </div>
            </div>

            <!-- –®–ê–ì 4: –ü–†–ï–î–ü–†–û–°–ú–û–¢–† –ò –°–û–•–†–ê–ù–ï–ù–ò–ï -->
            <div class="step-content" id="stepContent4" style="display: none;">
                <div style="text-align: center; padding: 40px;">
                    <div style="font-size: 4em; margin-bottom: 20px;">‚úÖ</div>
                    <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!</h2>
                    <p>–í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏—Ç–æ–≥–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:</p>
                    
                    <div style="max-width: 600px; margin: 30px auto; background: #f8f9fa; padding: 20px; border-radius: 10px;">
                        <h4>üìã –ò—Ç–æ–≥–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è</h4>
                        <div id="finalConfiguration">
                            <!-- –ó–∞–ø–æ–ª–Ω–∏—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                        </div>
                    </div>
                    
                    <div style="display: flex; gap: 10px; justify-content: center; margin-top: 30px;">
                        <button class="btn btn-primary" onclick="saveSetup()">
                            üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
                        </button>
                        <button class="btn btn-success" onclick="exportSetupAsTemplate()">
                            üìÅ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫ —à–∞–±–ª–æ–Ω
                        </button>
                        <button class="btn" onclick="showStep(3)">
                            ‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
                        </button>
                    </div>
                </div>
            </div>

            <!-- –ù–ê–í–ò–ì–ê–¶–ò–Ø –ü–û –®–ê–ì–ê–ú -->
            <div class="step-navigation" style="display: flex; justify-content: space-between; margin-top: 30px; padding-top: 20px; border-top: 1px solid #eee;">
                <button class="btn btn-outline" onclick="prevStep()" id="prevStepBtn">
                    ‚Üê –ù–∞–∑–∞–¥
                </button>
                <div>
                    <button class="btn btn-outline" onclick="saveAsDraft()">
                        üíæ –ß–µ—Ä–Ω–æ–≤–∏–∫
                    </button>
                    <button class="btn btn-primary" onclick="nextStep()" id="nextStepBtn">
                        –î–∞–ª–µ–µ ‚Üí
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>